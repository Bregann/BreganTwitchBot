@using BreganTwitchBot.Web.Data.Stats
@inherits LayoutComponentBase

@inject TopStatsService TopStatsData

<PageTitle>BreganTwitchBotWebsite</PageTitle>
<MudThemeProvider IsDarkMode=true/>
<MudDialogProvider/>
<MudSnackbarProvider/>

<MudLayout>
    <NavMenu />
    <MudMainContent Style="overflow-x: hidden">
        <MudGrid Spacing=3 Justify=Justify.Center Class="pt-4">
            <MudItem>
                <MudPaper Height="100px" Width="300px" Style="background-color: #27272f; color: white;" Elevation=5>
                    <MudText Align="Align.Center" Class="pt-4" Typo="Typo.h6">Total Users Registered</MudText>
                    <MudText Align="Align.Center" Class="pt-1" Typo="Typo.body1">@topStatsData.TotalUsersRegistered.ToString("N0")</MudText>
                </MudPaper>
            </MudItem>
            <MudItem>
                <MudPaper Height="100px" Width="300px" Style="background-color: #27272f; color: white;" Elevation=5>
                    <MudText Align="Align.Center" Class="pt-4" Typo="Typo.h6">Users in Stream</MudText>
                    <MudText Align="Align.Center" Class="pt-1" Typo="Typo.body1">@topStatsData.UsersInStream.ToString("N0")</MudText>
                </MudPaper>
            </MudItem>
            <MudItem>
                <MudPaper Height="100px" Width="300px" Style="background-color: #27272f; color: white;" Elevation=5>
                    <MudText Align="Align.Center" Class="pt-4" Typo="Typo.h6">Total Points in System</MudText>
                    <MudText Align="Align.Center" Class="pt-1" Typo="Typo.body1">@topStatsData.TotalPointsInSystem.ToString("N0")</MudText>
                </MudPaper>
            </MudItem>
            <MudItem>
                <MudPaper Height="100px" Width="300px" Style="background-color: #27272f; color: white;" Elevation=5>
                    <MudText Align="Align.Center" Class="pt-4" Typo="Typo.h6">Total Minutes Watched</MudText>
                    <MudText Align="Align.Center" Class="pt-1" Typo="Typo.body1">@topStatsData.TotalMinutesWatched</MudText>
                </MudPaper>
            </MudItem>
        </MudGrid>
        @Body
    </MudMainContent>
</MudLayout>


@code{
    private TopStats topStatsData;

    protected override async Task OnInitializedAsync()
    {
        topStatsData = TopStatsData.GetStats();
    }

}



